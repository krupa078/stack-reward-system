{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import api from\"../api\";import{useAuth}from\"../context/AuthContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{const{user,setUser}=useAuth();const[loading,setLoading]=useState(false);const fetchMe=async()=>{try{setLoading(true);const{data}=await api.get(\"/api/users/me\");setUser(data);setLoading(false);}catch(err){setLoading(false);console.error(err);}};useEffect(()=>{fetchMe();// eslint-disable-next-line\n},[]);if(!user)return/*#__PURE__*/_jsx(\"p\",{children:\"No user\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"card auth-card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"page-title\",style:{marginBottom:\"0.5rem\"},children:\"My Profile\"}),loading&&/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:\"Refreshing...\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",user.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",user.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Points:\"}),\" \",user.points]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Badge:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"badge-chip\",style:{marginLeft:0},children:user.badge})]}),/*#__PURE__*/_jsx(\"p\",{className:\"info-text\",children:\"Your badge changes automatically when your points grow.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline\",onClick:fetchMe,children:\"Refresh\"})]});};export default Profile;","map":{"version":3,"names":["React","useEffect","useState","api","useAuth","jsx","_jsx","jsxs","_jsxs","Profile","user","setUser","loading","setLoading","fetchMe","data","get","err","console","error","children","className","style","marginBottom","name","email","points","marginLeft","badge","onClick"],"sources":["C:/stack-reward-system/frontend/src/pages/Profile.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport api from \"../api\";\nimport { useAuth } from \"../context/AuthContext\";\n\nconst Profile = () => {\n  const { user, setUser } = useAuth();\n  const [loading, setLoading] = useState(false);\n\n  const fetchMe = async () => {\n    try {\n      setLoading(true);\n      const { data } = await api.get(\"/api/users/me\");\n      setUser(data);\n      setLoading(false);\n    } catch (err) {\n      setLoading(false);\n      console.error(err);\n    }\n  };\n\n  useEffect(() => {\n    fetchMe();\n    // eslint-disable-next-line\n  }, []);\n\n  if (!user) return <p>No user</p>;\n\n  return (\n    <div className=\"card auth-card\">\n      <h2 className=\"page-title\" style={{ marginBottom: \"0.5rem\" }}>\n        My Profile\n      </h2>\n      {loading && <p className=\"page-subtitle\">Refreshing...</p>}\n      <p>\n        <strong>Name:</strong> {user.name}\n      </p>\n      <p>\n        <strong>Email:</strong> {user.email}\n      </p>\n      <p>\n        <strong>Points:</strong> {user.points}\n      </p>\n      <p>\n        <strong>Badge:</strong>{\" \"}\n        <span className=\"badge-chip\" style={{ marginLeft: 0 }}>\n          {user.badge}\n        </span>\n      </p>\n      <p className=\"info-text\">\n        Your badge changes automatically when your points grow.\n      </p>\n      <button className=\"btn btn-outline\" onClick={fetchMe}>\n        Refresh\n      </button>\n    </div>\n  );\n};\n\nexport default Profile;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,GAAG,KAAM,QAAQ,CACxB,OAASC,OAAO,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjD,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAAEC,IAAI,CAAEC,OAAQ,CAAC,CAAGP,OAAO,CAAC,CAAC,CACnC,KAAM,CAACQ,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,KAAK,CAAC,CAE7C,KAAM,CAAAY,OAAO,CAAG,KAAAA,CAAA,GAAY,CAC1B,GAAI,CACFD,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAEE,IAAK,CAAC,CAAG,KAAM,CAAAZ,GAAG,CAACa,GAAG,CAAC,eAAe,CAAC,CAC/CL,OAAO,CAACI,IAAI,CAAC,CACbF,UAAU,CAAC,KAAK,CAAC,CACnB,CAAE,MAAOI,GAAG,CAAE,CACZJ,UAAU,CAAC,KAAK,CAAC,CACjBK,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CACF,CAAC,CAEDhB,SAAS,CAAC,IAAM,CACda,OAAO,CAAC,CAAC,CACT;AACF,CAAC,CAAE,EAAE,CAAC,CAEN,GAAI,CAACJ,IAAI,CAAE,mBAAOJ,IAAA,MAAAc,QAAA,CAAG,SAAO,CAAG,CAAC,CAEhC,mBACEZ,KAAA,QAAKa,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC7Bd,IAAA,OAAIe,SAAS,CAAC,YAAY,CAACC,KAAK,CAAE,CAAEC,YAAY,CAAE,QAAS,CAAE,CAAAH,QAAA,CAAC,YAE9D,CAAI,CAAC,CACJR,OAAO,eAAIN,IAAA,MAAGe,SAAS,CAAC,eAAe,CAAAD,QAAA,CAAC,eAAa,CAAG,CAAC,cAC1DZ,KAAA,MAAAY,QAAA,eACEd,IAAA,WAAAc,QAAA,CAAQ,OAAK,CAAQ,CAAC,IAAC,CAACV,IAAI,CAACc,IAAI,EAChC,CAAC,cACJhB,KAAA,MAAAY,QAAA,eACEd,IAAA,WAAAc,QAAA,CAAQ,QAAM,CAAQ,CAAC,IAAC,CAACV,IAAI,CAACe,KAAK,EAClC,CAAC,cACJjB,KAAA,MAAAY,QAAA,eACEd,IAAA,WAAAc,QAAA,CAAQ,SAAO,CAAQ,CAAC,IAAC,CAACV,IAAI,CAACgB,MAAM,EACpC,CAAC,cACJlB,KAAA,MAAAY,QAAA,eACEd,IAAA,WAAAc,QAAA,CAAQ,QAAM,CAAQ,CAAC,CAAC,GAAG,cAC3Bd,IAAA,SAAMe,SAAS,CAAC,YAAY,CAACC,KAAK,CAAE,CAAEK,UAAU,CAAE,CAAE,CAAE,CAAAP,QAAA,CACnDV,IAAI,CAACkB,KAAK,CACP,CAAC,EACN,CAAC,cACJtB,IAAA,MAAGe,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAC,yDAEzB,CAAG,CAAC,cACJd,IAAA,WAAQe,SAAS,CAAC,iBAAiB,CAACQ,OAAO,CAAEf,OAAQ,CAAAM,QAAA,CAAC,SAEtD,CAAQ,CAAC,EACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAAX,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}