{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import api from\"../api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const QuestionsList=()=>{const[questions,setQuestions]=useState([]);const[title,setTitle]=useState(\"\");const[body,setBody]=useState(\"\");const[error,setError]=useState(\"\");const fetchQuestions=async()=>{try{const{data}=await api.get(\"/api/questions\");setQuestions(data);}catch(err){console.error(err);}};useEffect(()=>{fetchQuestions();},[]);const handleCreate=async e=>{e.preventDefault();setError(\"\");try{await api.post(\"/api/questions\",{title,body});setTitle(\"\");setBody(\"\");fetchQuestions();}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Failed to create question\");}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-header\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"page-title\",children:\"Questions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:\"Ask and explore questions from the community.\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{marginBottom:\"1.25rem\"},children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",style:{marginBottom:\"0.75rem\"},children:\"Ask a Question\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",fontSize:\"0.85rem\"},children:error}),/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:handleCreate,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",value:title,onChange:e=>setTitle(e.target.value),required:true,placeholder:\"e.g. What is React and how does it work?\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Body\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"textarea\",value:body,onChange:e=>setBody(e.target.value),required:true,placeholder:\"Describe your problem or question in detail.\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",type:\"submit\",children:\"Post Question\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"question-list\",children:[questions.map(q=>{var _q$user$points,_q$user,_q$user2,_q$user3;return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(Link,{to:\"/questions/\".concat(q._id),className:\"question-item-title\",children:q.title}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"chip\",children:[(_q$user$points=(_q$user=q.user)===null||_q$user===void 0?void 0:_q$user.points)!==null&&_q$user$points!==void 0?_q$user$points:0,\" pts\"]}),((_q$user2=q.user)===null||_q$user2===void 0?void 0:_q$user2.badge)&&/*#__PURE__*/_jsx(\"span\",{className:\"badge-chip\",children:q.user.badge})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"question-item-footer\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Asked by \",((_q$user3=q.user)===null||_q$user3===void 0?void 0:_q$user3.name)||\"Unknown\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[new Date(q.createdAt).toLocaleDateString(),\" \",new Date(q.createdAt).toLocaleTimeString([],{hour:\"2-digit\",minute:\"2-digit\"})]})]})]},q._id);}),questions.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:\"No questions yet. Be the first to ask something!\"})]})]});};export default QuestionsList;","map":{"version":3,"names":["React","useEffect","useState","Link","api","jsx","_jsx","jsxs","_jsxs","QuestionsList","questions","setQuestions","title","setTitle","body","setBody","error","setError","fetchQuestions","data","get","err","console","handleCreate","e","preventDefault","post","_err$response","_err$response$data","response","message","children","className","style","marginBottom","color","fontSize","onSubmit","value","onChange","target","required","placeholder","type","map","q","_q$user$points","_q$user","_q$user2","_q$user3","to","concat","_id","user","points","badge","name","Date","createdAt","toLocaleDateString","toLocaleTimeString","hour","minute","length"],"sources":["C:/stack-reward-system/frontend/src/pages/QuestionsList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../api\";\n\nconst QuestionsList = () => {\n  const [questions, setQuestions] = useState([]);\n  const [title, setTitle] = useState(\"\");\n  const [body, setBody] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const fetchQuestions = async () => {\n    try {\n      const { data } = await api.get(\"/api/questions\");\n      setQuestions(data);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  useEffect(() => {\n    fetchQuestions();\n  }, []);\n\n  const handleCreate = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n    try {\n      await api.post(\"/api/questions\", { title, body });\n      setTitle(\"\");\n      setBody(\"\");\n      fetchQuestions();\n    } catch (err) {\n      setError(err.response?.data?.message || \"Failed to create question\");\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"page-header\">\n        <div>\n          <h2 className=\"page-title\">Questions</h2>\n          <p className=\"page-subtitle\">\n            Ask and explore questions from the community.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"card\" style={{ marginBottom: \"1.25rem\" }}>\n        <h3 className=\"card-title\" style={{ marginBottom: \"0.75rem\" }}>\n          Ask a Question\n        </h3>\n        {error && <p style={{ color: \"red\", fontSize: \"0.85rem\" }}>{error}</p>}\n        <form className=\"form\" onSubmit={handleCreate}>\n          <div className=\"form-row\">\n            <label className=\"form-label\">Title</label>\n            <input\n              className=\"input\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              required\n              placeholder=\"e.g. What is React and how does it work?\"\n            />\n          </div>\n          <div className=\"form-row\">\n            <label className=\"form-label\">Body</label>\n            <textarea\n              className=\"textarea\"\n              value={body}\n              onChange={(e) => setBody(e.target.value)}\n              required\n              placeholder=\"Describe your problem or question in detail.\"\n            />\n          </div>\n          <button className=\"btn btn-primary\" type=\"submit\">\n            Post Question\n          </button>\n        </form>\n      </div>\n\n      <div className=\"question-list\">\n        {questions.map((q) => (\n          <div key={q._id} className=\"card\">\n            <div className=\"card-header\">\n              <Link to={`/questions/${q._id}`} className=\"question-item-title\">\n                {q.title}\n              </Link>\n              <div>\n                <span className=\"chip\">{q.user?.points ?? 0} pts</span>\n                {q.user?.badge && (\n                  <span className=\"badge-chip\">{q.user.badge}</span>\n                )}\n              </div>\n            </div>\n            <div className=\"question-item-footer\">\n              <span>Asked by {q.user?.name || \"Unknown\"}</span>\n              <span>\n                {new Date(q.createdAt).toLocaleDateString()}{\" \"}\n                {new Date(q.createdAt).toLocaleTimeString([], {\n                  hour: \"2-digit\",\n                  minute: \"2-digit\",\n                })}\n              </span>\n            </div>\n          </div>\n        ))}\n        {questions.length === 0 && (\n          <p className=\"page-subtitle\">\n            No questions yet. Be the first to ask something!\n          </p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default QuestionsList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}