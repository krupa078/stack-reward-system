{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import api from\"../api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Leaderboard=()=>{const[users,setUsers]=useState([]);const[loading,setLoading]=useState(true);const fetchLeaderboard=async()=>{try{setLoading(true);const{data}=await api.get(\"/api/users/leaderboard\");setUsers(data);setLoading(false);}catch(err){console.error(err);setLoading(false);}};useEffect(()=>{fetchLeaderboard();},[]);const getRankClass=index=>{if(index===0)return\"rank-badge rank-1\";if(index===1)return\"rank-badge rank-2\";if(index===2)return\"rank-badge rank-3\";return\"rank-badge\";};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-header\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"page-title\",children:\"Leaderboard\"}),/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:\"Top users ranked by total points & badges.\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading leaderboard...\"}):users.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No users yet. Start by posting a question or answer.\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Rank\"}),/*#__PURE__*/_jsx(\"th\",{children:\"User\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Points\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Badge\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Joined\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map((u,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{className:getRankClass(index),children:[\"#\",index+1]})}),/*#__PURE__*/_jsx(\"td\",{children:u.name}),/*#__PURE__*/_jsx(\"td\",{children:u.email}),/*#__PURE__*/_jsx(\"td\",{children:u.points}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge-chip\",style:{marginLeft:0},children:u.badge})}),/*#__PURE__*/_jsx(\"td\",{children:new Date(u.createdAt).toLocaleDateString()})]},u._id))})]})})]});};export default Leaderboard;","map":{"version":3,"names":["React","useEffect","useState","api","jsx","_jsx","jsxs","_jsxs","Leaderboard","users","setUsers","loading","setLoading","fetchLeaderboard","data","get","err","console","error","getRankClass","index","children","className","length","map","u","name","email","points","style","marginLeft","badge","Date","createdAt","toLocaleDateString","_id"],"sources":["C:/stack-reward-system/frontend/src/pages/Leaderboard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport api from \"../api\";\n\nconst Leaderboard = () => {\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const fetchLeaderboard = async () => {\n    try {\n      setLoading(true);\n      const { data } = await api.get(\"/api/users/leaderboard\");\n      setUsers(data);\n      setLoading(false);\n    } catch (err) {\n      console.error(err);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchLeaderboard();\n  }, []);\n\n  const getRankClass = (index) => {\n    if (index === 0) return \"rank-badge rank-1\";\n    if (index === 1) return \"rank-badge rank-2\";\n    if (index === 2) return \"rank-badge rank-3\";\n    return \"rank-badge\";\n  };\n\n  return (\n    <div>\n      <div className=\"page-header\">\n        <div>\n          <h2 className=\"page-title\">Leaderboard</h2>\n          <p className=\"page-subtitle\">\n            Top users ranked by total points & badges.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"card\">\n        {loading ? (\n          <p>Loading leaderboard...</p>\n        ) : users.length === 0 ? (\n          <p>No users yet. Start by posting a question or answer.</p>\n        ) : (\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th>Rank</th>\n                <th>User</th>\n                <th>Email</th>\n                <th>Points</th>\n                <th>Badge</th>\n                <th>Joined</th>\n              </tr>\n            </thead>\n            <tbody>\n              {users.map((u, index) => (\n                <tr key={u._id}>\n                  <td>\n                    <span className={getRankClass(index)}>#{index + 1}</span>\n                  </td>\n                  <td>{u.name}</td>\n                  <td>{u.email}</td>\n                  <td>{u.points}</td>\n                  <td>\n                    <span className=\"badge-chip\" style={{ marginLeft: 0 }}>\n                      {u.badge}\n                    </span>\n                  </td>\n                  <td>{new Date(u.createdAt).toLocaleDateString()}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Leaderboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}